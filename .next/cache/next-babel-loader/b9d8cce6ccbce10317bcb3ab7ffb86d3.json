{"ast":null,"code":"import { initializeMongoose, PostModel } from \"../../server/mongoose\";\nexport default async function WordCount(req, res) {\n  await initializeMongoose();\n  const result = await PostModel.aggregate([{\n    $group: {\n      postID: {\n        $match: \"$postID\"\n      },\n      wordCount: {\n        $sum: \"$wordCount\"\n      }\n    }\n  }]);\n  console.log(result);\n  res.status(200).json(result);\n}","map":{"version":3,"sources":["/home/laura/dev/ozone/src/pages/api/word-count.ts"],"names":["initializeMongoose","PostModel","WordCount","req","res","result","aggregate","$group","postID","$match","wordCount","$sum","console","log","status","json"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,SAA7B,QAA8C,uBAA9C;AAEA,eAAe,eAAeC,SAAf,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmC;AAChD,QAAMJ,kBAAkB,EAAxB;AACA,QAAMK,MAAM,GAAG,MAAMJ,SAAS,CAACK,SAAV,CAAoB,CAAC;AACxCC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAV;AAAgCC,MAAAA,SAAS,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAR;AAA3C;AADgC,GAAD,CAApB,CAArB;AAIAC,EAAAA,OAAO,CAACC,GAAR,CAAYR,MAAZ;AAEAD,EAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBV,MAArB;AACD","sourcesContent":["import { initializeMongoose, PostModel } from \"../../server/mongoose\";\n\nexport default async function WordCount(req, res) {\n  await initializeMongoose();\n  const result = await PostModel.aggregate([{\n    $group: { postID: { $match: \"$postID\"}, wordCount: { $sum: \"$wordCount\" }}\n  }]);\n\n  console.log(result)\n  \n  res.status(200).json(result);\n}"]},"metadata":{},"sourceType":"module"}